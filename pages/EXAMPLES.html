<!DOCTYPE html><html class="default" lang="en"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="IE=edge"/><title>Javascript Examples | SeiJS</title><meta name="description" content="Documentation for SeiJS"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="../assets/style.css"/><link rel="stylesheet" href="../assets/highlight.css"/><script async src="../assets/search.js" id="search-script"></script><link rel="stylesheet" href="../assets/pages.css"/></head><body><script>document.documentElement.dataset.theme = localStorage.getItem("tsd-theme") || "os"</script><header class="tsd-page-toolbar">
<div class="tsd-toolbar-contents container">
<div class="table-cell" id="tsd-search" data-base="..">
<div class="field"><label for="tsd-search-field" class="tsd-widget tsd-toolbar-icon search no-caption"><svg width="16" height="16" viewBox="0 0 16 16" fill="none"><path d="M15.7824 13.833L12.6666 10.7177C12.5259 10.5771 12.3353 10.499 12.1353 10.499H11.6259C12.4884 9.39596 13.001 8.00859 13.001 6.49937C13.001 2.90909 10.0914 0 6.50048 0C2.90959 0 0 2.90909 0 6.49937C0 10.0896 2.90959 12.9987 6.50048 12.9987C8.00996 12.9987 9.39756 12.4863 10.5008 11.6239V12.1332C10.5008 12.3332 10.5789 12.5238 10.7195 12.6644L13.8354 15.7797C14.1292 16.0734 14.6042 16.0734 14.8948 15.7797L15.7793 14.8954C16.0731 14.6017 16.0731 14.1267 15.7824 13.833ZM6.50048 10.499C4.29094 10.499 2.50018 8.71165 2.50018 6.49937C2.50018 4.29021 4.28781 2.49976 6.50048 2.49976C8.71001 2.49976 10.5008 4.28708 10.5008 6.49937C10.5008 8.70852 8.71314 10.499 6.50048 10.499Z" fill="var(--color-text)"></path></svg></label><input type="text" id="tsd-search-field" aria-label="Search"/></div>
<div class="field">
<div id="tsd-toolbar-links"></div></div>
<ul class="results">
<li class="state loading">Preparing search index...</li>
<li class="state failure">The search index is not available</li></ul><a href="../index.html" class="title">SeiJS</a></div>
<div class="table-cell" id="tsd-widgets"><a href="#" class="tsd-widget tsd-toolbar-icon menu no-caption" data-toggle="menu" aria-label="Menu"><svg width="16" height="16" viewBox="0 0 16 16" fill="none"><rect x="1" y="3" width="14" height="2" fill="var(--color-text)"></rect><rect x="1" y="7" width="14" height="2" fill="var(--color-text)"></rect><rect x="1" y="11" width="14" height="2" fill="var(--color-text)"></rect></svg></a></div></div></header>
<div class="container container-main">
<div class="col-8 col-content">
<div class="tsd-page-title">
<ul class="tsd-breadcrumb">
<li><a href="../modules.html">SeiJS</a></li>
<li><a href="EXAMPLES.html">Javascript Examples</a></li></ul>
<h1> Javascript Examples</h1></div>
<div class="tsd-panel tsd-typography">
<a href="#sei-js-javascript-reference" id="sei-js-javascript-reference" style="color: inherit; text-decoration: none;">
  <h1>Sei-JS Javascript Reference</h1>
</a>
<p>This document shows examples of common javascript interactions for Sei using libraries in the @sei-js repo.</p>

<a href="#getting-started" id="getting-started" style="color: inherit; text-decoration: none;">
  <h2>Getting Started</h2>
</a>
<p>Please review our <a href="https://docs.sei.io/develop/get-started">Getting Started</a> page to set up your environment. 
We have created a sample project that has many of the most common functions needed while interacting with Sei. Cloning and running our <a href="https://github.com/sei-protocol/js-examples">js-examples</a> repo is a great place to start for anyone new to Sei.
For additional helpful functions and components or to learn more about the functions used in this reference please see the <a href="https://www.npmjs.com/package/@sei-js/core">@sei-js/core</a> and <a href="https://www.npmjs.com/package/@sei-js/react">@sei-js/react</a> packages themselves.
â€‹</p>

<a href="#connecting-to-a-wallet" id="connecting-to-a-wallet" style="color: inherit; text-decoration: none;">
  <h2>Connecting to a Wallet</h2>
</a>
<p>In order to interact with Sei you must have a <code>DirectSecp256k1HdWallet</code> which can be accessed through a clients installed wallet extension, generated, or restored by using a mnemonic seed phrase.</p>

<a href="#extension-react" id="extension-react" style="color: inherit; text-decoration: none;">
  <h3>Extension (React)</h3>
</a>
<p>To use this extension, You must wrap your entire app in the <code>&lt;SeiWalletProvider&gt;</code> component and pass the proper configuration into it.</p>
<pre><code class="language-tsx"><span class="hl-4">import</span><span class="hl-1"> { </span><span class="hl-5">SeiWalletProvider</span><span class="hl-1"> } </span><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@sei-js/react&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-3">// App.tsx</span><br/><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-0">App</span><span class="hl-1"> = () </span><span class="hl-6">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">rpcUrl</span><span class="hl-1"> = </span><span class="hl-2">&#39;YOUR_RPC_URL&#39;</span><span class="hl-1">;</span><br/><span class="hl-1">    </span><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">restUrl</span><span class="hl-1"> = </span><span class="hl-2">&#39;YOUR_REST_URL&#39;</span><span class="hl-1">;</span><br/><span class="hl-1">    </span><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">chainId</span><span class="hl-1"> = </span><span class="hl-2">&#39;atlantic-2&#39;</span><span class="hl-1">;</span><br/><span class="hl-1">    </span><br/><span class="hl-1">    </span><span class="hl-4">return</span><span class="hl-1"> (</span><br/><span class="hl-1">        </span><span class="hl-3">//Alternatively you can define your own custom wallet (see Keplr tab)</span><br/><span class="hl-1">        </span><span class="hl-8">&lt;</span><span class="hl-9">SeiWalletProvider</span><span class="hl-1"> </span><span class="hl-10">chainConfiguration</span><span class="hl-1">=</span><span class="hl-6">{</span><span class="hl-11">{ </span><span class="hl-5">chainId</span><span class="hl-11">, </span><span class="hl-5">restUrl</span><span class="hl-11">, </span><span class="hl-5">rpcUrl</span><span class="hl-11"> }</span><span class="hl-6">}</span><span class="hl-1"> </span><span class="hl-10">wallets</span><span class="hl-1">=</span><span class="hl-6">{</span><span class="hl-11">[</span><span class="hl-2">&#39;compass&#39;</span><span class="hl-11">, </span><span class="hl-2">&#39;fin&#39;</span><span class="hl-11">]</span><span class="hl-6">}</span><span class="hl-8">&gt;</span><br/><span class="hl-1">            </span><span class="hl-8">&lt;</span><span class="hl-9">Home</span><span class="hl-8">/&gt;</span><br/><span class="hl-1">        </span><span class="hl-8">&lt;/</span><span class="hl-9">SeiWalletProvider</span><span class="hl-8">&gt;</span><br/><span class="hl-1">    );</span><br/><span class="hl-1">};</span>
</code></pre>
<p>Option 1: Use the pre-built wallet connection button and modal to easily connect to the one of the official Sei wallet providers.</p>
<pre><code class="language-tsx"><span class="hl-4">import</span><span class="hl-1"> { </span><span class="hl-5">useWallet</span><span class="hl-1">, </span><span class="hl-5">WalletConnectButton</span><span class="hl-1"> } </span><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@sei-js/react&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-3">// Home.tsx</span><br/><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-0">Home</span><span class="hl-1"> = () </span><span class="hl-6">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-3">// Within any component that is a child of &lt;SeiWalletProvider&gt;</span><br/><span class="hl-1">    </span><span class="hl-6">const</span><span class="hl-1"> { </span><span class="hl-7">offlineSigner</span><span class="hl-1">, </span><span class="hl-7">connectedWallet</span><span class="hl-1">, </span><span class="hl-7">accounts</span><span class="hl-1"> } = </span><span class="hl-0">useWallet</span><span class="hl-1">();</span><br/><span class="hl-1">    </span><span class="hl-4">return</span><span class="hl-1"> (</span><br/><span class="hl-1">        </span><span class="hl-8">&lt;</span><span class="hl-12">div</span><span class="hl-8">&gt;</span><br/><span class="hl-1">            </span><span class="hl-6">{</span><span class="hl-1">!</span><span class="hl-5">connectedWallet</span><span class="hl-11"> </span><span class="hl-1">?</span><span class="hl-11"> </span><span class="hl-8">&lt;</span><span class="hl-9">WalletConnectButton</span><span class="hl-11"> </span><span class="hl-8">/&gt;</span><span class="hl-11"> </span><span class="hl-1">:</span><span class="hl-11"> </span><span class="hl-8">&lt;</span><span class="hl-12">p</span><span class="hl-8">&gt;</span><span class="hl-11">connected to: </span><span class="hl-6">{</span><span class="hl-5">connectedWallet</span><span class="hl-6">}</span><span class="hl-8">&lt;/</span><span class="hl-12">p</span><span class="hl-8">&gt;</span><span class="hl-6">}</span><br/><span class="hl-1">        </span><span class="hl-8">&lt;/</span><span class="hl-12">div</span><span class="hl-8">&gt;</span><br/><span class="hl-1">    )</span><br/><span class="hl-1">};</span>
</code></pre>
<p>Option 2: Create your own wallet connection UI and pass the correct wallet key into the autoconnect prop in the <code>&lt;SeiWalletProvider/&gt;</code> component.</p>
<pre><code class="language-tsx"><span class="hl-3">// App.tsx</span><br/><span class="hl-8">&lt;</span><span class="hl-9">SeiWalletProvider</span><span class="hl-1"> </span><span class="hl-10">autoconnect</span><span class="hl-1">=</span><span class="hl-2">&#39;compass&#39;</span><span class="hl-1"> </span><span class="hl-8">&gt;</span><br/><span class="hl-1">    </span><span class="hl-8">&lt;</span><span class="hl-9">Home</span><span class="hl-8">/&gt;</span><br/><span class="hl-8">&lt;/</span><span class="hl-9">SeiWalletProvider</span><span class="hl-8">&gt;</span>
</code></pre>

<a href="#extension-javascripttypescript" id="extension-javascripttypescript" style="color: inherit; text-decoration: none;">
  <h3>Extension (Javascript/Typescript)</h3>
</a>
<pre><code class="language-tsx"><span class="hl-4">import</span><span class="hl-1"> { </span><span class="hl-5">COMPASS_WALLET</span><span class="hl-1">, </span><span class="hl-5">FIN_WALLET</span><span class="hl-1">, </span><span class="hl-5">KEPLR_WALLET</span><span class="hl-1"> } </span><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-2">&quot;@sei-js/core&quot;</span><span class="hl-1">;</span><br/><br/><span class="hl-3">//Alternatively you can define your own custom wallet (see Keplr tab)</span><br/><br/><span class="hl-4">await</span><span class="hl-1"> </span><span class="hl-7">COMPASS_WALLET</span><span class="hl-1">.</span><span class="hl-0">connect</span><span class="hl-1">(</span><span class="hl-5">chainId</span><span class="hl-1">);</span><br/><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">offlineSigner</span><span class="hl-1"> = </span><span class="hl-4">await</span><span class="hl-1"> </span><span class="hl-7">COMPASS_WALLET</span><span class="hl-1">.</span><span class="hl-0">getOfflineSigner</span><span class="hl-1">(</span><span class="hl-5">chainId</span><span class="hl-1">);</span><br/><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">accounts</span><span class="hl-1"> = </span><span class="hl-4">await</span><span class="hl-1"> </span><span class="hl-7">COMPASS_WALLET</span><span class="hl-1">.</span><span class="hl-0">getAccounts</span><span class="hl-1">(</span><span class="hl-5">chainId</span><span class="hl-1">);</span><br/><span class="hl-4">await</span><span class="hl-1"> </span><span class="hl-7">COMPASS_WALLET</span><span class="hl-1">.</span><span class="hl-0">disconnect</span><span class="hl-1">(</span><span class="hl-5">chainId</span><span class="hl-1">);</span>
</code></pre>

<a href="#generating-or-restoring-a-wallet" id="generating-or-restoring-a-wallet" style="color: inherit; text-decoration: none;">
  <h3>Generating or Restoring a Wallet</h3>
</a>
<p>In some circumstances it is necessary to generate a  new wallet or to restore a wallet from a given seed phrase.</p>
<pre><code class="language-tsx"><span class="hl-4">import</span><span class="hl-1"> { </span><span class="hl-5">generateWallet</span><span class="hl-1">, </span><span class="hl-5">restoreWallet</span><span class="hl-1"> } </span><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-2">&quot;@sei-js/core&quot;</span><span class="hl-1">;</span><br/><br/><span class="hl-3">// 12 word mnemonic by default</span><br/><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">generatedWallet</span><span class="hl-1"> = </span><span class="hl-4">await</span><span class="hl-1"> </span><span class="hl-0">generateWallet</span><span class="hl-1">();</span><br/><span class="hl-5">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-2">&#39;generated mnemonic&#39;</span><span class="hl-1">, </span><span class="hl-5">generatedWallet</span><span class="hl-1">.</span><span class="hl-5">mnemonic</span><span class="hl-1">);</span><br/><br/><span class="hl-3">// or restore a wallet given a seed phrase</span><br/><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">restoredWallet</span><span class="hl-1"> = </span><span class="hl-4">await</span><span class="hl-1"> </span><span class="hl-0">restoreWallet</span><span class="hl-1">(</span><span class="hl-7">SEED_PHRASE</span><span class="hl-1">);</span><br/><span class="hl-5">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-2">&#39;restored mnemonic&#39;</span><span class="hl-1">, </span><span class="hl-5">restoredWallet</span><span class="hl-1">.</span><span class="hl-5">mnemonic</span><span class="hl-1">);</span><br/><br/><span class="hl-3">//Both the above functions have optional parameters for selecting a certain account index in a given wallet</span><br/><br/><span class="hl-1">...</span>
</code></pre>

<a href="#custom-wallet-keplr-example" id="custom-wallet-keplr-example" style="color: inherit; text-decoration: none;">
  <h3>Custom Wallet (Keplr example)</h3>
</a>
<p>If you would like to connect to an unofficial wallet extension such as Keplr you can define an object of type SeiWallet and use it throughout the @sei-js/react library the same as an official wallet.</p>
<pre><code class="language-tsx"><br/><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">CUSTOM_WALLET</span><span class="hl-1">: </span><span class="hl-9">SeiWallet</span><span class="hl-1"> = {</span><br/><span class="hl-1">  </span><span class="hl-0">getAccounts</span><span class="hl-5">:</span><span class="hl-1"> </span><span class="hl-6">async</span><span class="hl-1"> (</span><span class="hl-5">chainId</span><span class="hl-1">) </span><span class="hl-6">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">offlineSigner</span><span class="hl-1"> = </span><span class="hl-4">await</span><span class="hl-1"> </span><span class="hl-5">window</span><span class="hl-1">?.[</span><span class="hl-2">&#39;keplr&#39;</span><span class="hl-1">]?.</span><span class="hl-0">getOfflineSignerAuto</span><span class="hl-1">(</span><span class="hl-5">chainId</span><span class="hl-1">);</span><br/><span class="hl-1">    </span><span class="hl-4">return</span><span class="hl-1"> </span><span class="hl-5">offlineSigner</span><span class="hl-1">?.</span><span class="hl-0">getAccounts</span><span class="hl-1">() || [];</span><br/><span class="hl-1">  },</span><br/><span class="hl-1">  </span><span class="hl-0">connect</span><span class="hl-5">:</span><span class="hl-1"> </span><span class="hl-6">async</span><span class="hl-1"> (</span><span class="hl-5">chainId</span><span class="hl-1">) </span><span class="hl-6">=&gt;</span><span class="hl-1"> </span><span class="hl-4">await</span><span class="hl-1"> </span><span class="hl-5">window</span><span class="hl-1">?.[</span><span class="hl-2">&#39;keplr&#39;</span><span class="hl-1">]?.</span><span class="hl-0">enable</span><span class="hl-1">(</span><span class="hl-5">chainId</span><span class="hl-1">),</span><br/><span class="hl-1">  </span><span class="hl-0">disconnect</span><span class="hl-5">:</span><span class="hl-1"> </span><span class="hl-6">async</span><span class="hl-1"> (</span><span class="hl-5">chainId</span><span class="hl-1">) </span><span class="hl-6">=&gt;</span><span class="hl-1"> </span><span class="hl-4">await</span><span class="hl-1"> </span><span class="hl-5">window</span><span class="hl-1">?.[</span><span class="hl-2">&#39;keplr&#39;</span><span class="hl-1">]?.</span><span class="hl-0">disable</span><span class="hl-1">(</span><span class="hl-5">chainId</span><span class="hl-1">),</span><br/><span class="hl-1">  </span><span class="hl-0">getOfflineSigner</span><span class="hl-5">:</span><span class="hl-1"> </span><span class="hl-6">async</span><span class="hl-1"> (</span><span class="hl-5">chainId</span><span class="hl-1">) </span><span class="hl-6">=&gt;</span><span class="hl-1"> </span><span class="hl-5">window</span><span class="hl-1">?.[</span><span class="hl-2">&#39;keplr&#39;</span><span class="hl-1">]?.</span><span class="hl-0">getOfflineSignerAuto</span><span class="hl-1">(</span><span class="hl-5">chainId</span><span class="hl-1">),</span><br/><span class="hl-1">  </span><span class="hl-0">signArbitrary</span><span class="hl-5">:</span><span class="hl-1"> </span><span class="hl-6">async</span><span class="hl-1"> (</span><span class="hl-5">chainId</span><span class="hl-1">, </span><span class="hl-5">signer</span><span class="hl-1">, </span><span class="hl-5">message</span><span class="hl-1">) </span><span class="hl-6">=&gt;</span><span class="hl-1"> </span><span class="hl-5">window</span><span class="hl-1">?.[</span><span class="hl-2">&#39;keplr&#39;</span><span class="hl-1">]?.</span><span class="hl-0">signArbitrary</span><span class="hl-1">(</span><span class="hl-5">chainId</span><span class="hl-1">, </span><span class="hl-5">signer</span><span class="hl-1">, </span><span class="hl-5">message</span><span class="hl-1">),</span><br/><span class="hl-1">  </span><span class="hl-0">verifyArbitrary</span><span class="hl-5">:</span><span class="hl-1"> </span><span class="hl-6">async</span><span class="hl-1"> (</span><span class="hl-5">chainId</span><span class="hl-1">, </span><span class="hl-5">signingAddress</span><span class="hl-1">, </span><span class="hl-5">data</span><span class="hl-1">, </span><span class="hl-5">signature</span><span class="hl-1">) </span><span class="hl-6">=&gt;</span><span class="hl-1"> </span><span class="hl-5">window</span><span class="hl-1">?.[</span><span class="hl-2">&#39;keplr&#39;</span><span class="hl-1">]?.</span><span class="hl-0">verifyArbitrary</span><span class="hl-1">(</span><span class="hl-5">chainId</span><span class="hl-1">, </span><span class="hl-5">signingAddress</span><span class="hl-1">, </span><span class="hl-5">data</span><span class="hl-1">, </span><span class="hl-5">signature</span><span class="hl-1">),</span><br/><span class="hl-1">  </span><span class="hl-5">walletInfo:</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-5">windowKey:</span><span class="hl-1"> </span><span class="hl-2">&#39;keplr&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-5">name:</span><span class="hl-1"> </span><span class="hl-2">&#39;Keplr&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-5">website:</span><span class="hl-1"> </span><span class="hl-2">&#39;https://www.keplr.app/download&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-5">icon:</span><span class="hl-1"> </span><span class="hl-2">&#39;https://assets.website-files.com/63eb7ddf41cf5b1c8fdfbc74/63edd5d1a40b9a48841ac1d2_Keplr%20Logo.svg&#39;</span><br/><span class="hl-1">  },</span><br/><span class="hl-1">  </span><span class="hl-5">isMobileSupported:</span><span class="hl-1"> </span><span class="hl-6">false</span><br/><span class="hl-1">};</span><br/><br/><span class="hl-3">// Then pass this into &lt;SeiWalletProvider /&gt; if using React, or use it&#39;s functions if using node or another js library</span><br/><span class="hl-8">&lt;</span><span class="hl-9">SeiWalletProvider</span><span class="hl-1"> </span><span class="hl-10">wallets</span><span class="hl-1">=</span><span class="hl-6">{</span><span class="hl-11">[</span><span class="hl-2">&#39;fin&#39;</span><span class="hl-11">, </span><span class="hl-2">&#39;compass&#39;</span><span class="hl-11">, </span><span class="hl-7">CUSTOM_WALLET</span><span class="hl-11">]</span><span class="hl-6">}</span><span class="hl-1"> </span><span class="hl-10">autoconnect</span><span class="hl-1">=</span><span class="hl-6">{</span><span class="hl-7">CUSTOM_WALLET</span><span class="hl-6">}</span><span class="hl-1"> </span><span class="hl-8">/&gt;</span>
</code></pre>

<a href="#querying-a-module" id="querying-a-module" style="color: inherit; text-decoration: none;">
  <h2>Querying a Module</h2>
</a>
<p>When querying a Sei chain it is helpful to use a query client from @sei-js in order to have the correct registry and amino types. It is recommended that you do not use common web2 request libraries (fetch, axios, request) as they will not have typed query and response types.</p>

<a href="#getting-a-client" id="getting-a-client" style="color: inherit; text-decoration: none;">
  <h3>Getting a Client</h3>
</a>
<p>Using React:</p>
<pre><code class="language-tsx"><span class="hl-4">import</span><span class="hl-1"> { </span><span class="hl-5">useQueryClient</span><span class="hl-1"> } </span><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-2">&quot;@sei-js/react&quot;</span><span class="hl-1">;</span><br/><span class="hl-1"> </span><br/><span class="hl-1">...</span><br/><br/><span class="hl-3">// Within any component that is a child of &lt;SeiWalletProvider&gt;</span><br/><span class="hl-6">const</span><span class="hl-1"> { </span><span class="hl-7">queryClient</span><span class="hl-1">, </span><span class="hl-7">isLoading</span><span class="hl-1"> } = </span><span class="hl-0">useQueryClient</span><span class="hl-1">();</span><br/><span class="hl-1"> </span><br/><span class="hl-1">...</span>
</code></pre>
<p>Using Javascript/Typescript:</p>
<pre><code class="language-tsx"><span class="hl-4">import</span><span class="hl-1"> { </span><span class="hl-5">getQueryClient</span><span class="hl-1"> } </span><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@sei-js/core&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-1">...</span><br/><br/><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">queryClient</span><span class="hl-1"> = </span><span class="hl-4">await</span><span class="hl-1"> </span><span class="hl-0">getQueryClient</span><span class="hl-1">(</span><span class="hl-7">REST_URL</span><span class="hl-1">);</span><br/><br/><span class="hl-1">...</span>
</code></pre>

<a href="#common-queries" id="common-queries" style="color: inherit; text-decoration: none;">
  <h3>Common Queries:</h3>
</a>
<pre><code class="language-tsx"><span class="hl-1">...</span><br/><br/><span class="hl-3">// Getting the market summary from the Sei dex module</span><br/><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">dexMarketSummary</span><span class="hl-1"> = </span><span class="hl-4">await</span><span class="hl-1"> </span><span class="hl-5">queryClient</span><span class="hl-1">.</span><span class="hl-5">seiprotocol</span><span class="hl-1">.</span><span class="hl-5">seichain</span><span class="hl-1">.</span><span class="hl-5">dex</span><span class="hl-1">.</span><span class="hl-0">getMarketSummary</span><span class="hl-1">(</span><span class="hl-5">params</span><span class="hl-1">);</span><br/><br/><span class="hl-3">// Query the bank balance of a given address</span><br/><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">balances</span><span class="hl-1"> = </span><span class="hl-4">await</span><span class="hl-1"> </span><span class="hl-5">queryClient</span><span class="hl-1">.</span><span class="hl-5">cosmos</span><span class="hl-1">.</span><span class="hl-5">bank</span><span class="hl-1">.</span><span class="hl-5">v1beta1</span><span class="hl-1">.</span><span class="hl-0">allBalances</span><span class="hl-1">({ </span><span class="hl-5">address</span><span class="hl-1"> });</span><br/><br/><span class="hl-3">// Query a specific transaction hash</span><br/><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">txInfo</span><span class="hl-1"> = </span><span class="hl-4">await</span><span class="hl-1"> </span><span class="hl-5">queryClient</span><span class="hl-1">.</span><span class="hl-5">cosmos</span><span class="hl-1">.</span><span class="hl-5">tx</span><span class="hl-1">.</span><span class="hl-5">v1beta1</span><span class="hl-1">.</span><span class="hl-0">getTx</span><span class="hl-1">({ </span><span class="hl-5">hash</span><span class="hl-1"> });</span><br/><br/><span class="hl-1">...</span>
</code></pre>

<a href="#signing-transactions" id="signing-transactions" style="color: inherit; text-decoration: none;">
  <h2>Signing Transactions</h2>
</a>
<p>@sei-js contains helper functions to get a SigningStargateClient with default Sei protocol registry and amino types.</p>

<a href="#getting-a-signing-client" id="getting-a-signing-client" style="color: inherit; text-decoration: none;">
  <h3>Getting a Signing Client</h3>
</a>
<p>Using React:</p>
<pre><code class="language-tsx"><span class="hl-4">import</span><span class="hl-1"> { </span><span class="hl-5">useSigningClient</span><span class="hl-1"> } </span><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@sei-js/react&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-1">...</span><br/><br/><span class="hl-3">// Within any component that is a child of &lt;SeiWalletProvider&gt;</span><br/><span class="hl-6">const</span><span class="hl-1"> { </span><span class="hl-7">signingClient</span><span class="hl-1">, </span><span class="hl-7">isLoading</span><span class="hl-1"> } = </span><span class="hl-0">useSigningClient</span><span class="hl-1">();</span><br/><br/><span class="hl-1">...</span>
</code></pre>
<p>Using Javascript/Typescript:</p>
<pre><code class="language-tsx"><span class="hl-4">import</span><span class="hl-1"> { </span><span class="hl-5">getSigningClient</span><span class="hl-1">, </span><span class="hl-5">COMPASS_WALLET</span><span class="hl-1"> } </span><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@sei-js/core&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-3">// Don&#39;t forget to connect if using a wallet extension</span><br/><span class="hl-3">// or create a wallet from a mnemonic (See above)</span><br/><span class="hl-4">await</span><span class="hl-1"> </span><span class="hl-7">COMPASS_WALLET</span><span class="hl-1">.</span><span class="hl-0">connect</span><span class="hl-1">(</span><span class="hl-5">chainId</span><span class="hl-1">);</span><br/><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">offlineSigner</span><span class="hl-1"> = </span><span class="hl-4">await</span><span class="hl-1"> </span><span class="hl-7">COMPASS_WALLET</span><span class="hl-1">.</span><span class="hl-0">getOfflineSigner</span><span class="hl-1">(</span><span class="hl-5">chainId</span><span class="hl-1">);</span><br/><br/><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">signingClient</span><span class="hl-1"> = </span><span class="hl-4">await</span><span class="hl-1"> </span><span class="hl-0">getSigningClient</span><span class="hl-1">(</span><span class="hl-7">RPC_URL</span><span class="hl-1">, </span><span class="hl-5">offlineSigner</span><span class="hl-1">);</span><br/><br/><span class="hl-1">...</span>
</code></pre>
<p>Using Custom Registry or Amino Types:</p>
<pre><code class="language-tsx"><span class="hl-4">import</span><span class="hl-1"> { </span><span class="hl-5">Registry</span><span class="hl-1"> } </span><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-2">&quot;@cosmjs/proto-signing&quot;</span><span class="hl-1">;</span><br/><span class="hl-4">import</span><span class="hl-1"> { </span><span class="hl-5">defaultRegistryTypes</span><span class="hl-1"> } </span><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-2">&quot;@cosmjs/stargate&quot;</span><span class="hl-1">;</span><br/><span class="hl-4">import</span><span class="hl-1"> { </span><span class="hl-5">getSigningClient</span><span class="hl-1"> } </span><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@sei-js/core&#39;</span><span class="hl-1">;</span><br/><span class="hl-4">import</span><span class="hl-1"> { </span><span class="hl-5">seiprotocol</span><span class="hl-1">, </span><span class="hl-5">seiprotocolProtoRegistry</span><span class="hl-1"> } </span><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-2">&quot;@sei-js/proto&quot;</span><span class="hl-1">;</span><br/><br/><span class="hl-1">...</span><br/><br/><span class="hl-3">// Set up Sei proto registry</span><br/><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">registry</span><span class="hl-1"> = </span><span class="hl-6">new</span><span class="hl-1"> </span><span class="hl-0">Registry</span><span class="hl-1">([</span><br/><span class="hl-1">  ...</span><span class="hl-5">defaultRegistryTypes</span><span class="hl-1">,</span><br/><span class="hl-1">  ...</span><span class="hl-5">seiprotocolProtoRegistry</span><span class="hl-1">,</span><br/><span class="hl-1">]);</span><br/><br/><span class="hl-3">// Create a client with registry</span><br/><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">signingClient</span><span class="hl-1"> = </span><span class="hl-4">await</span><span class="hl-1"> </span><span class="hl-0">getSigningClient</span><span class="hl-1">(</span><span class="hl-7">RPC_URL</span><span class="hl-1">, </span><span class="hl-5">offlineSigner</span><span class="hl-1">, { </span><span class="hl-5">registry</span><span class="hl-1"> });</span><br/><br/><span class="hl-1">...</span>
</code></pre>

<a href="#common-transactions" id="common-transactions" style="color: inherit; text-decoration: none;">
  <h3>Common Transactions</h3>
</a>
<p>Transfer tokens (Bank send):</p>
<pre><code class="language-tsx"><span class="hl-4">import</span><span class="hl-1"> { </span><span class="hl-5">calculateFee</span><span class="hl-1"> } </span><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@cosmjs/stargate&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-1">...</span><br/><br/><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">fee</span><span class="hl-1"> = </span><span class="hl-0">calculateFee</span><span class="hl-1">(</span><span class="hl-13">100000</span><span class="hl-1">, </span><span class="hl-2">&quot;0.1usei&quot;</span><span class="hl-1">);</span><br/><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">amount</span><span class="hl-1"> = { </span><span class="hl-5">amount:</span><span class="hl-1"> </span><span class="hl-7">SEND_AMOUNT</span><span class="hl-1">, </span><span class="hl-5">denom:</span><span class="hl-1"> </span><span class="hl-7">TOKEN_DENOM</span><span class="hl-1"> };</span><br/><br/><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">sendResponse</span><span class="hl-1"> = </span><span class="hl-4">await</span><span class="hl-1"> </span><span class="hl-5">signingClient</span><span class="hl-1">.</span><span class="hl-0">sendTokens</span><span class="hl-1">(</span><span class="hl-7">SENDER_ADDRESS</span><span class="hl-1">, </span><span class="hl-7">DESTINATION_ADDRESS</span><span class="hl-1">, [</span><span class="hl-5">amount</span><span class="hl-1">], </span><span class="hl-5">fee</span><span class="hl-1">);</span>
</code></pre>
<p>IBC Transfer:</p>
<pre><code class="language-tsx"><span class="hl-4">import</span><span class="hl-1"> { </span><span class="hl-5">calculateFee</span><span class="hl-1"> } </span><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@cosmjs/stargate&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-1">...</span><br/><br/><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">fee</span><span class="hl-1"> = </span><span class="hl-0">calculateFee</span><span class="hl-1">(</span><span class="hl-13">150000</span><span class="hl-1">, </span><span class="hl-2">&quot;0.1usei&quot;</span><span class="hl-1">);</span><br/><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">amount</span><span class="hl-1"> = { </span><span class="hl-5">amount:</span><span class="hl-1"> </span><span class="hl-7">SEND_AMOUNT</span><span class="hl-1">, </span><span class="hl-5">denom:</span><span class="hl-1"> </span><span class="hl-7">TOKEN_DENOM</span><span class="hl-1"> };</span><br/><br/><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">ibcResponse</span><span class="hl-1"> = </span><span class="hl-4">await</span><span class="hl-1"> </span><span class="hl-5">signingClient</span><span class="hl-1">.</span><span class="hl-0">sendIbcTokens</span><span class="hl-1">(</span><span class="hl-7">SENDER_ADDRESS</span><span class="hl-1">, </span><span class="hl-7">DESTINATION_ADDRESSS</span><span class="hl-1">, </span><span class="hl-5">amount</span><span class="hl-1">, </span><span class="hl-2">&#39;transfer&#39;</span><span class="hl-1">, </span><span class="hl-7">CHANNEL_ID</span><span class="hl-1">, </span><span class="hl-6">undefined</span><span class="hl-1">, </span><span class="hl-6">undefined</span><span class="hl-1">, </span><span class="hl-5">fee</span><span class="hl-1">)</span>
</code></pre>
<p>Using types from @sei-js/proto</p>
<pre><code class="language-tsx"><span class="hl-4">import</span><span class="hl-1"> { </span><span class="hl-5">seiprotocol</span><span class="hl-1"> } </span><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-2">&quot;@sei-js/proto&quot;</span><span class="hl-1">;</span><br/><br/><span class="hl-1">...</span><br/><br/><span class="hl-3">// Create message to place an order</span><br/><span class="hl-6">const</span><span class="hl-1"> { </span><span class="hl-7">placeOrders</span><span class="hl-1"> } = </span><span class="hl-5">seiprotocol</span><span class="hl-1">.</span><span class="hl-5">seichain</span><span class="hl-1">.</span><span class="hl-5">dex</span><span class="hl-1">.</span><span class="hl-5">MessageComposer</span><span class="hl-1">.</span><span class="hl-5">withTypeUrl</span><span class="hl-1">;</span><br/><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">msg</span><span class="hl-1"> = </span><span class="hl-0">placeOrders</span><span class="hl-1">({ </span><span class="hl-5">contractAddr</span><span class="hl-1">, </span><span class="hl-5">creator</span><span class="hl-1">, </span><span class="hl-5">funds</span><span class="hl-1">, </span><span class="hl-5">orders</span><span class="hl-1"> });</span><br/><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">fee</span><span class="hl-1"> = </span><span class="hl-0">calculateFee</span><span class="hl-1">(</span><span class="hl-13">150000</span><span class="hl-1">, </span><span class="hl-2">&quot;0.1usei&quot;</span><span class="hl-1">);</span><br/><br/><span class="hl-3">// Sign and broadcast the message</span><br/><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">response</span><span class="hl-1"> = </span><span class="hl-5">signingClient</span><span class="hl-1">.</span><span class="hl-0">signAndBroadcast</span><span class="hl-1">(</span><span class="hl-5">firstAccount</span><span class="hl-1">.</span><span class="hl-5">address</span><span class="hl-1">, [</span><span class="hl-5">msg</span><span class="hl-1">], </span><span class="hl-5">fee</span><span class="hl-1">);</span>
</code></pre>
<p>Please take a look at the @sei-js/proto library for more examples of Typescript generated proto</p>

<a href="#querying-smart-contracts" id="querying-smart-contracts" style="color: inherit; text-decoration: none;">
  <h2>Querying Smart Contracts</h2>
</a>
<p>@sei-js contains helper functions to get a <code>CosmWasmClient</code>. Thi should be used for querying smart contracts only. If you need to call a contracts execute msg, see the <code>SigningCosmWasmClient</code> below.</p>

<a href="#getting-a-client-1" id="getting-a-client-1" style="color: inherit; text-decoration: none;">
  <h3>Getting a Client</h3>
</a>
<p>Using React:</p>
<pre><code class="language-tsx"><span class="hl-4">import</span><span class="hl-1"> { </span><span class="hl-5">useCosmWasmClient</span><span class="hl-1"> } </span><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-2">&quot;@sei-js/react&quot;</span><span class="hl-1">;</span><br/><span class="hl-1"> </span><br/><span class="hl-1">...</span><br/><br/><span class="hl-3">// Within any component that is a child of &lt;SeiWalletProvider&gt;</span><br/><span class="hl-6">const</span><span class="hl-1"> { </span><span class="hl-7">cosmWasmClient</span><span class="hl-1"> } = </span><span class="hl-0">useSeiCosmWasmClient</span><span class="hl-1">();</span><br/><br/><span class="hl-1">...</span>
</code></pre>
<p>Using Javascript/Typescript:</p>
<pre><code class="language-tsx"><span class="hl-4">import</span><span class="hl-1"> { </span><span class="hl-5">DirectSecp256k1HdWallet</span><span class="hl-1"> } </span><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-2">&quot;@cosmjs/proto-signing&quot;</span><span class="hl-1">;</span><br/><span class="hl-4">import</span><span class="hl-1"> { </span><span class="hl-5">getCosmWasmClient</span><span class="hl-1"> } </span><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-2">&quot;@sei-js/core&quot;</span><span class="hl-1">;</span><br/><br/><span class="hl-3">// Create a CosmWasmClient</span><br/><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">cosmWasmClient</span><span class="hl-1"> = </span><span class="hl-4">await</span><span class="hl-1"> </span><span class="hl-0">getCosmWasmClient</span><span class="hl-1">(</span><span class="hl-7">RPC_URL</span><span class="hl-1">);</span><br/><br/><span class="hl-1">...</span>
</code></pre>

<a href="#querying-a-contract" id="querying-a-contract" style="color: inherit; text-decoration: none;">
  <h3>Querying a Contract</h3>
</a>
<p>Build the <code>queryMsg</code> according to the contracts specific query specifications.</p>
<pre><code class="language-tsx"><span class="hl-1">...</span><br/><br/><span class="hl-3">// Create the query msg json based on contract specific query specifications</span><br/><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">queryMsg</span><span class="hl-1"> = {</span><br/><span class="hl-1">    </span><span class="hl-5">tokens:</span><span class="hl-1"> {</span><br/><span class="hl-1">        </span><span class="hl-5">owner:</span><span class="hl-1"> </span><span class="hl-5">address</span><span class="hl-1">,</span><br/><span class="hl-1">    },</span><br/><span class="hl-1">};</span><br/><br/><span class="hl-3">// Query a smart contract state</span><br/><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">queryResponse</span><span class="hl-1"> = </span><span class="hl-5">cosmWasmClient</span><span class="hl-1">.</span><span class="hl-0">queryContractSmart</span><span class="hl-1">(</span><span class="hl-7">CONTRACT_ADDR</span><span class="hl-1">, </span><span class="hl-5">queryMsg</span><span class="hl-1">);</span>
</code></pre>

<a href="#executing-smart-contracts" id="executing-smart-contracts" style="color: inherit; text-decoration: none;">
  <h2>Executing Smart Contracts</h2>
</a>
<p>This package contains helper functions to get a <code>SigningCosmWasmClient</code> with Sei registry and amino types from @sei-js/proto used for smart contract execute messages.</p>

<a href="#getting-a-client-2" id="getting-a-client-2" style="color: inherit; text-decoration: none;">
  <h3>Getting a client</h3>
</a>
<p>Using React:</p>
<pre><code class="language-tsx"><span class="hl-4">import</span><span class="hl-1"> { </span><span class="hl-5">useSigningCosmWasmClient</span><span class="hl-1"> } </span><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@sei-js/react&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-1">...</span><br/><br/><span class="hl-3">// Within any component that is a child of &lt;SeiWalletProvider&gt;</span><br/><span class="hl-6">const</span><span class="hl-1"> { </span><span class="hl-7">signingCosmWasmClient</span><span class="hl-1">, </span><span class="hl-7">isLoading</span><span class="hl-1"> } = </span><span class="hl-0">useSigningCosmWasmClient</span><span class="hl-1">();</span><br/><br/><span class="hl-1">...</span>
</code></pre>
<p>Using Javascript/Typescript:</p>
<pre><code class="language-tsx"><span class="hl-4">import</span><span class="hl-1"> { </span><span class="hl-5">getSigningCosmWasmClient</span><span class="hl-1"> } </span><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-2">&quot;@sei-js/core&quot;</span><span class="hl-1">;</span><br/><br/><span class="hl-1">...</span><br/><br/><span class="hl-3">// Create a CosmWasmClient</span><br/><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">signingCosmWasmClient</span><span class="hl-1"> = </span><span class="hl-4">await</span><span class="hl-1"> </span><span class="hl-0">getSigningCosmWasmClient</span><span class="hl-1">(</span><span class="hl-7">RPC_URL</span><span class="hl-1">, </span><span class="hl-5">offlineSigner</span><span class="hl-1">);</span><br/><br/><span class="hl-1">...</span>
</code></pre>

<a href="#execute-example-mint-an-nft" id="execute-example-mint-an-nft" style="color: inherit; text-decoration: none;">
  <h3>Execute Example: Mint an NFT</h3>
</a>
<pre><code class="language-tsx"><span class="hl-1">...</span><br/><br/><span class="hl-3">// Execute a message on a smart contract</span><br/><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">fee</span><span class="hl-1"> = </span><span class="hl-0">calculateFee</span><span class="hl-1">(</span><span class="hl-13">150000</span><span class="hl-1">, </span><span class="hl-2">&quot;0.1usei&quot;</span><span class="hl-1">);</span><br/><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">msg</span><span class="hl-1"> = { </span><span class="hl-5">mint:</span><span class="hl-1"> {} };</span><br/><br/><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">result</span><span class="hl-1"> = </span><span class="hl-4">await</span><span class="hl-1"> </span><span class="hl-5">signingCosmWasmClient</span><span class="hl-1">.</span><span class="hl-0">execute</span><span class="hl-1">(</span><span class="hl-7">SENDER_ADDRESS</span><span class="hl-1">, </span><span class="hl-7">CONTRACT_ADDRESS</span><span class="hl-1">, </span><span class="hl-5">msg</span><span class="hl-1">, </span><span class="hl-5">fee</span><span class="hl-1">);</span>
</code></pre>

<a href="#address-validation" id="address-validation" style="color: inherit; text-decoration: none;">
  <h2>Address Validation</h2>
</a>
<p>You can validate that a given string is a valid Sei address:</p>
<pre><code class="language-tsx"><span class="hl-4">import</span><span class="hl-1"> { </span><span class="hl-5">isValidSeiAddress</span><span class="hl-1"> } </span><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@sei-js/core&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">isValidSeiAddress</span><span class="hl-1"> = </span><span class="hl-0">isValidSeiAddress</span><span class="hl-1">(</span><span class="hl-7">ADDRESS_TO_TEST</span><span class="hl-1">);</span>
</code></pre>

<a href="#arbitrary-string-signing-and-verification" id="arbitrary-string-signing-and-verification" style="color: inherit; text-decoration: none;">
  <h2>Arbitrary String Signing and Verification</h2>
</a>
<p>Sometimes it it necessary to prove account ownership without executing anything on chain. To achieve this verification you can use the signArbitrary function in all official Sei wallets to create a StdSignature which can be verified using the <code>verifyArbitrary</code> function from @sei-js/core</p>
<pre><code class="language-tsx"><span class="hl-4">import</span><span class="hl-1"> { </span><span class="hl-5">COMPASS_WALLET</span><span class="hl-1">, </span><span class="hl-5">verifyArbitrary</span><span class="hl-1"> } </span><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-2">&quot;@sei-js/core&quot;</span><span class="hl-1">;</span><br/><br/><span class="hl-3">// If using @sei-js/core</span><br/><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">stdSignature</span><span class="hl-1"> = </span><span class="hl-4">await</span><span class="hl-1"> </span><span class="hl-7">COMPASS_WALLET</span><span class="hl-1">.</span><span class="hl-0">signArbitrary</span><span class="hl-1">(</span><span class="hl-2">&#39;atlantic-2&#39;</span><span class="hl-1">, </span><span class="hl-7">SEI_ADDRESS</span><span class="hl-1">, </span><span class="hl-2">&quot;Message to sign&quot;</span><span class="hl-1">); </span><span class="hl-3">// or FIN_WALLET, KEPLR_WALLET, LEAP_WALLET</span><br/><br/><span class="hl-3">// If using @sei-js/react</span><br/><span class="hl-6">const</span><span class="hl-1"> { </span><span class="hl-7">connectedWallet</span><span class="hl-1"> } = </span><span class="hl-0">useWallet</span><span class="hl-1">(); </span><span class="hl-3">// Requires wrapping app in &lt;SeiWalletProvider/&gt;</span><br/><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">stdSignature</span><span class="hl-1"> = </span><span class="hl-5">connectedWallet</span><span class="hl-1">.</span><span class="hl-0">signArbitrary</span><span class="hl-1">(</span><span class="hl-2">&#39;atlantic-2&#39;</span><span class="hl-1">, </span><span class="hl-7">SEI_ADDRESS</span><span class="hl-1">, </span><span class="hl-2">&quot;Message to sign&quot;</span><span class="hl-1">);</span><br/><br/><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">isVerified</span><span class="hl-1"> = </span><span class="hl-4">await</span><span class="hl-1"> </span><span class="hl-0">verifyArbitrary</span><span class="hl-1">(</span><span class="hl-7">SEI_ADDRESS</span><span class="hl-1">, </span><span class="hl-2">&quot;My signed message&quot;</span><span class="hl-1">, </span><span class="hl-5">stdSignature</span><span class="hl-1">); </span><span class="hl-3">// true</span>
</code></pre>

<a href="#multi-sig-signing-and-broadcasting" id="multi-sig-signing-and-broadcasting" style="color: inherit; text-decoration: none;">
  <h2>Multi-Sig Signing and Broadcasting</h2>
</a>

<a href="#step-1-query-the-multi-sig-account-on-chain" id="step-1-query-the-multi-sig-account-on-chain" style="color: inherit; text-decoration: none;">
  <h3>Step 1: Query the multi-sig account on chain</h3>
</a>
<p>In order to sign a transaction for a multi-sig transaction you must know the sequence and account number of the multi-sig account on chain. Start by querying that on chain.</p>
<pre><code class="language-tsx"><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">broadcaster</span><span class="hl-1"> = </span><span class="hl-4">await</span><span class="hl-1"> </span><span class="hl-5">StargateClient</span><span class="hl-1">.</span><span class="hl-0">connect</span><span class="hl-1">(</span><span class="hl-5">rpcUrl</span><span class="hl-1">);</span><br/><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">multiSigAccount</span><span class="hl-1"> = </span><span class="hl-4">await</span><span class="hl-1"> </span><span class="hl-5">broadcaster</span><span class="hl-1">.</span><span class="hl-0">getAccount</span><span class="hl-1">(</span><span class="hl-5">multiSigAccountAddress</span><span class="hl-1">);</span><br/><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">multiSigPubkey</span><span class="hl-1"> = </span><span class="hl-5">account</span><span class="hl-1">.</span><span class="hl-5">pubkey</span><span class="hl-1"> </span><span class="hl-4">as</span><span class="hl-1"> </span><span class="hl-9">unknown</span><span class="hl-1"> </span><span class="hl-4">as</span><span class="hl-1"> </span><span class="hl-9">MultisigThresholdPubkey</span><span class="hl-1">;</span><br/><br/><span class="hl-3">// If the account has not broadcasted any transactions, the pubkey will not be available.</span><br/><span class="hl-4">if</span><span class="hl-1"> (!</span><span class="hl-0">isMultisigThresholdPubkey</span><span class="hl-1">(</span><span class="hl-5">multiSigPubkey</span><span class="hl-1">)) {</span><br/><span class="hl-1">     </span><span class="hl-5">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-2">&#39;The account address you entered is not a multi-sig account that exists on chain.&#39;</span><span class="hl-1">);</span><br/><span class="hl-1">}</span>
</code></pre>
<p>Note that if the multi sig account has neither broadcasted a transaction nor received funds, the call to `broadcaster.getAccount(multiSigAccountAddress) will fail since the account information will not exist on chain.</p>

<a href="#step-2-sign-a-transaction-with-custom-sign-options" id="step-2-sign-a-transaction-with-custom-sign-options" style="color: inherit; text-decoration: none;">
  <h3>Step 2: Sign a transaction with custom sign options</h3>
</a>
<p>Repeat this step by signing the exact same msg, with the same fee across all the required accounts in the multi-sig.</p>
<pre><code class="language-tsx"><span class="hl-4">import</span><span class="hl-1"> { </span><span class="hl-5">COMPASS_WALLET</span><span class="hl-1"> } </span><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@sei-js/core&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">offlineAminoSigner</span><span class="hl-1"> = </span><span class="hl-4">await</span><span class="hl-1"> </span><span class="hl-7">COMPASS_WALLET</span><span class="hl-1">.</span><span class="hl-0">getOfflineSignerAmino</span><span class="hl-1">(</span><span class="hl-5">chainId</span><span class="hl-1">); </span><span class="hl-3">// Or use another way to get the offline amino signer</span><br/><br/><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">signingClient</span><span class="hl-1"> = </span><span class="hl-4">await</span><span class="hl-1"> </span><span class="hl-0">getSigningClient</span><span class="hl-1">(</span><span class="hl-5">rpcUrl</span><span class="hl-1">, </span><span class="hl-5">offlineAminoSigner</span><span class="hl-1">); </span><span class="hl-3">// Or use another way to get a StargateSigningClient</span><br/><br/><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">accounts</span><span class="hl-1"> = </span><span class="hl-4">await</span><span class="hl-1"> </span><span class="hl-5">offlineAminoSigner</span><span class="hl-1">.</span><span class="hl-0">getAccounts</span><span class="hl-1">();</span><br/><br/><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">response</span><span class="hl-1"> = </span><span class="hl-4">await</span><span class="hl-1"> </span><span class="hl-5">signingClient</span><span class="hl-1">.</span><span class="hl-0">sign</span><span class="hl-1">(</span><span class="hl-5">accounts</span><span class="hl-1">[</span><span class="hl-13">0</span><span class="hl-1">].</span><span class="hl-5">address</span><span class="hl-1">, [</span><span class="hl-7">YOUR_TX_MSG</span><span class="hl-1">], </span><span class="hl-7">YOUR_TX_FEE</span><span class="hl-1">, </span><span class="hl-2">&#39;&#39;</span><span class="hl-1">, {</span><br/><span class="hl-1">            </span><span class="hl-5">accountNumber:</span><span class="hl-1"> </span><span class="hl-5">multiSigAccount</span><span class="hl-1">.</span><span class="hl-5">accountNumber</span><span class="hl-1">, </span><span class="hl-3">// from step 1</span><br/><span class="hl-1">            </span><span class="hl-5">sequence:</span><span class="hl-1"> </span><span class="hl-5">multiSigAccount</span><span class="hl-1">.</span><span class="hl-5">sequence</span><span class="hl-1">, </span><span class="hl-3">// from step 1</span><br/><span class="hl-1">            </span><span class="hl-5">chainId</span><br/><span class="hl-1">});</span>
</code></pre>

<a href="#step-3-aggregate-signatures-and-broadcast-transaction" id="step-3-aggregate-signatures-and-broadcast-transaction" style="color: inherit; text-decoration: none;">
  <h3>Step 3: Aggregate signatures and broadcast transaction</h3>
</a>
<p>Once all the signatures have been collected, we can broadcast the transaction from the multi-sig account.</p>
<pre><code class="language-tsx"><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">broadcaster</span><span class="hl-1"> = </span><span class="hl-4">await</span><span class="hl-1"> </span><span class="hl-5">StargateClient</span><span class="hl-1">.</span><span class="hl-0">connect</span><span class="hl-1">(</span><span class="hl-5">rpcUrl</span><span class="hl-1">);</span><br/><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">multiSigAccount</span><span class="hl-1"> = </span><span class="hl-4">await</span><span class="hl-1"> </span><span class="hl-5">broadcaster</span><span class="hl-1">.</span><span class="hl-0">getAccount</span><span class="hl-1">(</span><span class="hl-5">multiSigAccountAddress</span><span class="hl-1">);</span><br/><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">multiSigPubkey</span><span class="hl-1"> = </span><span class="hl-5">multiSigAccount</span><span class="hl-1">.</span><span class="hl-5">pubkey</span><span class="hl-1"> </span><span class="hl-4">as</span><span class="hl-1"> </span><span class="hl-9">unknown</span><span class="hl-1"> </span><span class="hl-4">as</span><span class="hl-1"> </span><span class="hl-9">MultisigThresholdPubkey</span><span class="hl-1">;</span><br/><br/><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">signatures</span><span class="hl-1"> = </span><span class="hl-6">new</span><span class="hl-1"> </span><span class="hl-0">Map</span><span class="hl-1">&lt;</span><span class="hl-9">string</span><span class="hl-1">, </span><span class="hl-9">Uint8Array</span><span class="hl-1">&gt;([</span><br/><span class="hl-1">    [</span><span class="hl-5">firstAddress</span><span class="hl-1">, </span><span class="hl-5">firstSignResponse</span><span class="hl-1">.</span><span class="hl-5">signatures</span><span class="hl-1">[</span><span class="hl-13">0</span><span class="hl-1">]],</span><br/><span class="hl-1">    [</span><span class="hl-5">secondAddress</span><span class="hl-1">, </span><span class="hl-5">secondSignResponse</span><span class="hl-1">.</span><span class="hl-5">signatures</span><span class="hl-1">[</span><span class="hl-13">0</span><span class="hl-1">]],</span><br/><span class="hl-1">    </span><span class="hl-3">// Repeat for however many signatures are required</span><br/><span class="hl-1">]);</span><br/><br/><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">multiSignedTxBytes</span><span class="hl-1"> = </span><span class="hl-0">makeMultisignedTxBytes</span><span class="hl-1">(</span><br/><span class="hl-1">    </span><span class="hl-5">multiSigPubkey</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-5">multiSigAccount</span><span class="hl-1">.</span><span class="hl-5">sequence</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-7">TX_FEE</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-5">firstSignResponse</span><span class="hl-1">.</span><span class="hl-5">bodyBytes</span><span class="hl-1">, </span><span class="hl-3">// or any signature since all signatures sign the same body</span><br/><span class="hl-1">    </span><span class="hl-5">signatures</span><br/><span class="hl-1">);</span><br/><br/><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">result</span><span class="hl-1"> = </span><span class="hl-4">await</span><span class="hl-1"> </span><span class="hl-5">broadcaster</span><span class="hl-1">.</span><span class="hl-0">broadcastTx</span><span class="hl-1">(</span><span class="hl-5">multiSignedTxBytes</span><span class="hl-1">);</span>
</code></pre>
</div></div>
<div class="col-4 col-menu menu-sticky-wrap menu-highlight">
<div class="tsd-navigation settings">
<details class="tsd-index-accordion"><summary class="tsd-accordion-summary">
<h3><svg width="20" height="20" viewBox="0 0 24 24" fill="none"><path d="M4.93896 8.531L12 15.591L19.061 8.531L16.939 6.409L12 11.349L7.06098 6.409L4.93896 8.531Z" fill="var(--color-text)"></path></svg> Settings</h3></summary>
<div class="tsd-accordion-details">
<div class="tsd-filter-visibility">
<h4 class="uppercase">Member Visibility</h4><form>
<ul id="tsd-filter-options">
<li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-protected" name="protected"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Protected</span></label></li>
<li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-private" name="private"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Private</span></label></li>
<li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-inherited" name="inherited" checked/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Inherited</span></label></li>
<li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-external" name="external"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>External</span></label></li></ul></form></div>
<div class="tsd-theme-toggle">
<h4 class="uppercase">Theme</h4><select id="theme"><option value="os">OS</option><option value="light">Light</option><option value="dark">Dark</option></select></div></div></details></div>
<nav class="tsd-navigation primary">
<details class="tsd-index-accordion" open><summary class="tsd-accordion-summary">
<h3><svg width="20" height="20" viewBox="0 0 24 24" fill="none"><path d="M4.93896 8.531L12 15.591L19.061 8.531L16.939 6.409L12 11.349L7.06098 6.409L4.93896 8.531Z" fill="var(--color-text)"></path></svg> Modules</h3></summary>
<div class="tsd-accordion-details">
<ul>
<li class="current"><a href="../modules.html">SeiJS</a>
<ul>
<li class="current selected pages-entry pages-entry-page pages-entry-depth-1"><a href="EXAMPLES.html">Javascript <wbr/>Examples</a></li>
<li class="tsd-kind-module"><a href="../modules/_sei_js_core.html">@sei-<wbr/>js/core</a></li>
<li class="tsd-kind-module"><a href="../modules/_sei_js_react.html">@sei-<wbr/>js/react</a></li></ul></li></ul></div></details></nav>
<nav class="tsd-navigation secondary menu-sticky"></nav></div></div>
<div class="container tsd-generator">
<p>Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a></p></div>
<div class="overlay"></div><script src="../assets/main.js"></script></body></html>